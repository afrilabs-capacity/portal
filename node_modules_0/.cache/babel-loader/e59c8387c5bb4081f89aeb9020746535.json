{"ast":null,"code":"import _classCallCheck from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\react\\\\lac\\\\src\\\\views\\\\dashboard\\\\DashboardAddPostTest.js\";\n\nimport React, { useEffect, lazy } from 'react';\nimport { CBadge, CButton, CButtonGroup, CCard, CCardBody, CCardFooter, CCardHeader, CCol, CProgress, CRow, CCallout } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport FormikPostEnglish from \"../../formik-wrappers/FormikPostEnglish\";\nimport EditorJS from '@editorjs/editorjs';\n\nvar DashboardAddPostTest = function DashboardAddPostTest() {\n  var editor = new EditorJS({\n    autofocus: true,\n    holder: 'editorjs',\n    tools: {\n      image: {\n        class: SimpleImage,\n        inlineToolbar: true\n      }\n    },\n    data: {\n      time: 1552744582955,\n      blocks: [{\n        type: \"image\",\n        data: {\n          url: \"https://cdn.pixabay.com/photo/2017/09/01/21/53/blue-2705642_1280.jpg\"\n        }\n      }],\n      version: \"2.11.10\"\n    }\n  });\n\n  var saveEditor = function saveEditor() {\n    var output = document.getElementById('output');\n    editor.save().then(function (savedData) {\n      console.log(JSON.stringify(savedData, null, 4));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CRow, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CCol, {\n    md: \"9\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CCard, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CCardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \"English\"), /*#__PURE__*/React.createElement(CCardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"editorjs\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return saveEditor();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, \"Save\"))))));\n};\n\nvar SimpleImage = /*#__PURE__*/function () {\n  function SimpleImage(_ref) {\n    var data = _ref.data,\n        api = _ref.api;\n\n    _classCallCheck(this, SimpleImage);\n\n    this.data = data;\n    this.api = api;\n    this.data = {\n      url: data.url || '',\n      caption: data.caption || '',\n      withBorder: data.withBorder !== undefined ? data.withBorder : false,\n      withBackground: data.withBackground !== undefined ? data.withBackground : false,\n      stretched: data.stretched !== undefined ? data.stretched : false\n    };\n    this.settings = [{\n      name: 'withBorder',\n      icon: \"<svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z\\\"/></svg>\"\n    }, {\n      name: 'stretched',\n      icon: \"<svg width=\\\"17\\\" height=\\\"10\\\" viewBox=\\\"0 0 17 10\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z\\\"/></svg>\"\n    }, {\n      name: 'withBackground',\n      icon: \"<svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z\\\"/></svg>\"\n    }];\n    this.wrapper = undefined;\n  }\n\n  _createClass(SimpleImage, [{\n    key: \"renderSettings\",\n    value: function renderSettings() {\n      var _this2 = this;\n\n      var wrapper = document.createElement('div');\n      this.settings.forEach(function (tune) {\n        var button = document.createElement('div');\n        button.classList.add('cdx-settings-button');\n        button.classList.toggle(_this2.api.styles.settingsButtonActive, _this2.data[tune.name]);\n        button.innerHTML = tune.icon;\n        wrapper.appendChild(button);\n        button.addEventListener('click', function () {\n          _this2._toggleTune(tune.name);\n\n          button.classList.toggle(_this2.api.styles.settingsButtonActive);\n        });\n      });\n      return wrapper;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      this.wrapper = document.createElement('div');\n      this.wrapper.setAttribute(\"style\", \"padding: 20px 0;\");\n\n      if (this.data && this.data.url) {\n        this._createImage(this.data.url, this.data.caption);\n\n        return this.wrapper;\n      }\n\n      var input = document.createElement('input');\n      input.setAttribute(\"style\", \"width: 100%;\\n        padding: 10px;\\n        border: 1px solid #e4e4e4;\\n        border-radius: 3px;\\n        outline: none;\\n        font-size: 14px;\");\n      this.wrapper.classList.add('simple-image');\n      this.wrapper.appendChild(input);\n      input.placeholder = 'Paste an image URL...';\n      input.value = this.data && this.data.url ? this.data.url : '';\n      input.addEventListener('paste', function (event) {\n        _this3._createImage(event.clipboardData.getData('text'));\n      });\n      return this.wrapper;\n    }\n  }, {\n    key: \"validate\",\n    value: function validate(savedData) {\n      if (!savedData.url.trim()) {\n        return false;\n      }\n\n      return true;\n    }\n  }, {\n    key: \"_createImage\",\n    value: function _createImage(url, captionText) {\n      var image = document.createElement('img');\n      image.setAttribute(\"style\", \"width: 100%;\");\n      var caption = document.createElement('div');\n      image.src = url;\n      caption.contentEditable = true; //caption.placeholder = 'Caption...';\n\n      caption.innerHTML = captionText || '';\n      this.wrapper.innerHTML = '';\n      this.wrapper.appendChild(image);\n      this.wrapper.appendChild(caption);\n\n      this._acceptTuneView();\n    }\n  }, {\n    key: \"save\",\n    value: function save(blockContent) {\n      var image = blockContent.querySelector('img');\n      var caption = blockContent.querySelector('[contenteditable]');\n      console.log(\"block data\", image);\n      return Object.assign(this.data, {\n        url: image.src,\n        caption: caption.innerHTML\n      });\n    }\n    /**\r\n    * @private\r\n    * Click on the Settings Button\r\n    * @param {string} tune — tune name from this.settings\r\n    */\n\n  }, {\n    key: \"_toggleTune\",\n    value: function _toggleTune(tune) {\n      console.log('Image tune clicked', tune);\n      this.data[tune] = !this.data[tune];\n\n      this._acceptTuneView();\n    }\n    /**\r\n    * Add specified class corresponds with activated tunes\r\n    * @private\r\n    */\n\n  }, {\n    key: \"_acceptTuneView\",\n    value: function _acceptTuneView() {\n      var _this4 = this;\n\n      this.settings.forEach(function (tune) {\n        _this4.wrapper.classList.toggle(tune.name, !!_this4.data[tune.name]);\n\n        if (tune.name === 'stretched') {\n          _this4.api.blocks.stretchBlock(_this4.api.blocks.getCurrentBlockIndex(), !!_this4.data.stretched);\n        }\n      });\n    }\n  }], [{\n    key: \"toolbox\",\n    get: function get() {\n      return {\n        title: 'Image',\n        icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>'\n      };\n    }\n  }]);\n\n  return SimpleImage;\n}();\n\nexport default DashboardAddPostTest;","map":{"version":3,"sources":["C:/react/lac/src/views/dashboard/DashboardAddPostTest.js"],"names":["React","useEffect","lazy","CBadge","CButton","CButtonGroup","CCard","CCardBody","CCardFooter","CCardHeader","CCol","CProgress","CRow","CCallout","CIcon","FormikPostEnglish","EditorJS","DashboardAddPostTest","editor","autofocus","holder","tools","image","class","SimpleImage","inlineToolbar","data","time","blocks","type","url","version","saveEditor","output","document","getElementById","save","then","savedData","console","log","JSON","stringify","api","caption","withBorder","undefined","withBackground","stretched","settings","name","icon","wrapper","createElement","forEach","tune","button","classList","add","toggle","styles","settingsButtonActive","innerHTML","appendChild","addEventListener","_toggleTune","setAttribute","_createImage","input","placeholder","value","event","clipboardData","getData","trim","captionText","src","contentEditable","_acceptTuneView","blockContent","querySelector","Object","assign","stretchBlock","getCurrentBlockIndex","title"],"mappings":"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","sourcesContent":["import React, {useEffect, lazy } from 'react'\r\nimport {\r\n  CBadge,\r\n  CButton,\r\n  CButtonGroup,\r\n  CCard,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CCol,\r\n  CProgress,\r\n  CRow,\r\n  CCallout\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport FormikPostEnglish from \"../../formik-wrappers/FormikPostEnglish\"\r\nimport EditorJS from '@editorjs/editorjs';\r\n\r\n\r\nconst DashboardAddPostTest = () => {\r\n\r\n\r\n    const editor = new EditorJS({\r\n        autofocus: true,\r\n        holder:'editorjs',\r\n        tools: {\r\n            image: {class:SimpleImage,inlineToolbar: true}\r\n            \r\n          },\r\n          data: {\r\n            time: 1552744582955,\r\n            blocks: [\r\n              {\r\n                type: \"image\",\r\n                data: {\r\n                  url: \"https://cdn.pixabay.com/photo/2017/09/01/21/53/blue-2705642_1280.jpg\"\r\n                }\r\n              }\r\n            ],\r\n            version: \"2.11.10\"\r\n          }\r\n      });\r\n\r\n\r\n      const saveEditor= ()=>{\r\n        const output = document.getElementById('output');\r\n        editor.save().then( savedData => {\r\n            console.log(JSON.stringify(savedData, null, 4));\r\n          })\r\n      }\r\n\r\n\r\n     return (\r\n    <>\r\n      <CRow>\r\n        <CCol md=\"9\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              English\r\n            </CCardHeader>\r\n            <CCardBody>\r\n            <div id=\"editorjs\"></div>\r\n            <button onClick={()=>saveEditor()}>Save</button>\r\n\r\n\r\n        </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n\r\n\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nclass SimpleImage {\r\n\r\n\r\n    constructor({data,api}){\r\n        this.data = data;\r\n        this.api=api;\r\n        this.data = {\r\n            url: data.url || '',\r\n            caption: data.caption || '',\r\n            withBorder: data.withBorder !== undefined ? data.withBorder : false,\r\n            withBackground: data.withBackground !== undefined ? data.withBackground : false,\r\n            stretched: data.stretched !== undefined ? data.stretched : false,\r\n          };\r\n\r\n          this.settings = [\r\n            {\r\n              name: 'withBorder',\r\n              icon: `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z\"/></svg>`\r\n            },\r\n            {\r\n              name: 'stretched',\r\n              icon: `<svg width=\"17\" height=\"10\" viewBox=\"0 0 17 10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z\"/></svg>`\r\n            },\r\n            {\r\n              name: 'withBackground',\r\n              icon: `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z\"/></svg>`\r\n            }\r\n          ];\r\n        this.wrapper = undefined;\r\n      }\r\n\r\n\r\n      renderSettings(){\r\n        \r\n      const wrapper = document.createElement('div');\r\n\r\n    this.settings.forEach( tune => {\r\n      let button = document.createElement('div');\r\n\r\n      button.classList.add('cdx-settings-button');\r\n      button.classList.toggle(this.api.styles.settingsButtonActive, this.data[tune.name]);\r\n      button.innerHTML = tune.icon;\r\n      wrapper.appendChild(button);\r\n\r\n      button.addEventListener('click', () => {\r\n        this._toggleTune(tune.name);\r\n        button.classList.toggle(this.api.styles.settingsButtonActive);\r\n      });\r\n    });\r\n\r\n    return wrapper;\r\n      }\r\n    \r\n\r\n\r\n    static get toolbox() {\r\n      return {\r\n        title: 'Image',\r\n        icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>'\r\n      };\r\n    }\r\n  \r\n    render(){\r\n        this.wrapper = document.createElement('div');\r\n        this.wrapper.setAttribute(\"style\",\"padding: 20px 0;\")\r\n\r\n\r\n        if (this.data && this.data.url){\r\n            this._createImage(this.data.url, this.data.caption);\r\n            return this.wrapper;\r\n          }\r\n\r\n        const input = document.createElement('input');\r\n        input.setAttribute(\"style\",`width: 100%;\r\n        padding: 10px;\r\n        border: 1px solid #e4e4e4;\r\n        border-radius: 3px;\r\n        outline: none;\r\n        font-size: 14px;`)\r\n    \r\n        this.wrapper.classList.add('simple-image');\r\n        this.wrapper.appendChild(input);\r\n    \r\n        input.placeholder = 'Paste an image URL...';\r\n        input.value = this.data && this.data.url ? this.data.url : '';\r\n\r\n        input.addEventListener('paste', (event) => {\r\n            this._createImage(event.clipboardData.getData('text'));\r\n          });\r\n    \r\n        return this.wrapper;\r\n    }\r\n  \r\n \r\n\r\n    validate(savedData){\r\n        if (!savedData.url.trim()){\r\n          return false;\r\n        }\r\n    \r\n        return true;\r\n      }\r\n\r\n      _createImage(url, captionText){\r\n        const image = document.createElement('img');\r\n        image.setAttribute(\"style\",\"width: 100%;\")\r\n        const caption = document.createElement('div');\r\n    \r\n        image.src = url;\r\n        caption.contentEditable = true;\r\n        //caption.placeholder = 'Caption...';\r\n        caption.innerHTML = captionText || '';\r\n    \r\n        this.wrapper.innerHTML = '';\r\n        this.wrapper.appendChild(image);\r\n        this.wrapper.appendChild(caption);\r\n        this._acceptTuneView();\r\n      }\r\n\r\n\r\n      save(blockContent){\r\n        const image = blockContent.querySelector('img');\r\n        const caption = blockContent.querySelector('[contenteditable]');\r\n\r\n        console.log(\"block data\",image)\r\n    \r\n        return Object.assign(this.data, {\r\n            url: image.src,\r\n            caption: caption.innerHTML\r\n         })\r\n    } \r\n\r\n    /**\r\n   * @private\r\n   * Click on the Settings Button\r\n   * @param {string} tune — tune name from this.settings\r\n   */\r\n  _toggleTune(tune) {\r\n    console.log('Image tune clicked', tune);\r\n    this.data[tune] = !this.data[tune];\r\n    this._acceptTuneView();\r\n   }\r\n\r\n    /**\r\n   * Add specified class corresponds with activated tunes\r\n   * @private\r\n   */\r\n  _acceptTuneView() {\r\n    this.settings.forEach( tune => {\r\n      this.wrapper.classList.toggle(tune.name, !!this.data[tune.name]);\r\n      if (tune.name === 'stretched') {\r\n        this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(), !!this.data.stretched);\r\n      }\r\n    });\r\n  }\r\n\r\n  }\r\n\r\nexport default DashboardAddPostTest\r\n"]},"metadata":{},"sourceType":"module"}