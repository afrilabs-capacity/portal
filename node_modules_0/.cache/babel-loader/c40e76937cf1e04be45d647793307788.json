{"ast":null,"code":"import _classCallCheck from\"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\react\\\\lac\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import React,{useEffect}from'react';import{CCard,CCardBody,CCardFooter,CCardHeader,CCol,CRow}from'@coreui/react';import CIcon from'@coreui/icons-react';import FormikPostEnglish from\"../../formik-wrappers/FormikPostEnglish\";import EditorJS from'@editorjs/editorjs';var DashboardAddPostTest=function DashboardAddPostTest(){var editor=new EditorJS({autofocus:true,holder:'editorjs',tools:{image:{class:SimpleImage,inlineToolbar:true}},data:{time:1552744582955,blocks:[{type:\"image\",data:{url:\"https://cdn.pixabay.com/photo/2017/09/01/21/53/blue-2705642_1280.jpg\"}}],version:\"2.11.10\"}});var saveEditor=function saveEditor(){var output=document.getElementById('output');editor.save().then(function(savedData){console.log(JSON.stringify(savedData,null,4));});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CRow,null,/*#__PURE__*/React.createElement(CCol,{md:\"9\"},/*#__PURE__*/React.createElement(CCard,null,/*#__PURE__*/React.createElement(CCardHeader,null,\"English\"),/*#__PURE__*/React.createElement(CCardBody,null,/*#__PURE__*/React.createElement(\"div\",{id:\"editorjs\"}),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return saveEditor();}},\"Save\"))))));};var SimpleImage=/*#__PURE__*/function(){function SimpleImage(_ref){var data=_ref.data,api=_ref.api;_classCallCheck(this,SimpleImage);this.data=data;this.api=api;this.data={url:data.url||'',caption:data.caption||'',withBorder:data.withBorder!==undefined?data.withBorder:false,withBackground:data.withBackground!==undefined?data.withBackground:false,stretched:data.stretched!==undefined?data.stretched:false};this.settings=[{name:'withBorder',icon:\"<svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z\\\"/></svg>\"},{name:'stretched',icon:\"<svg width=\\\"17\\\" height=\\\"10\\\" viewBox=\\\"0 0 17 10\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z\\\"/></svg>\"},{name:'withBackground',icon:\"<svg width=\\\"20\\\" height=\\\"20\\\" viewBox=\\\"0 0 20 20\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><path d=\\\"M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z\\\"/></svg>\"}];this.wrapper=undefined;}_createClass(SimpleImage,[{key:\"renderSettings\",value:function renderSettings(){var _this=this;var wrapper=document.createElement('div');this.settings.forEach(function(tune){var button=document.createElement('div');button.classList.add('cdx-settings-button');button.classList.toggle(_this.api.styles.settingsButtonActive,_this.data[tune.name]);button.innerHTML=tune.icon;wrapper.appendChild(button);button.addEventListener('click',function(){_this._toggleTune(tune.name);button.classList.toggle(_this.api.styles.settingsButtonActive);});});return wrapper;}},{key:\"render\",value:function render(){var _this2=this;this.wrapper=document.createElement('div');this.wrapper.setAttribute(\"style\",\"padding: 20px 0;\");if(this.data&&this.data.url){this._createImage(this.data.url,this.data.caption);return this.wrapper;}var input=document.createElement('input');input.setAttribute(\"style\",\"width: 100%;\\n        padding: 10px;\\n        border: 1px solid #e4e4e4;\\n        border-radius: 3px;\\n        outline: none;\\n        font-size: 14px;\");this.wrapper.classList.add('simple-image');this.wrapper.appendChild(input);input.placeholder='Paste an image URL...';input.value=this.data&&this.data.url?this.data.url:'';input.addEventListener('paste',function(event){_this2._createImage(event.clipboardData.getData('text'));});return this.wrapper;}},{key:\"validate\",value:function validate(savedData){if(!savedData.url.trim()){return false;}return true;}},{key:\"_createImage\",value:function _createImage(url,captionText){var image=document.createElement('img');image.setAttribute(\"style\",\"width: 100%;\");var caption=document.createElement('div');image.src=url;caption.contentEditable=true;//caption.placeholder = 'Caption...';\ncaption.innerHTML=captionText||'';this.wrapper.innerHTML='';this.wrapper.appendChild(image);this.wrapper.appendChild(caption);this._acceptTuneView();}},{key:\"save\",value:function save(blockContent){var image=blockContent.querySelector('img');var caption=blockContent.querySelector('[contenteditable]');console.log(\"block data\",image);return Object.assign(this.data,{url:image.src,caption:caption.innerHTML});}/**\r\n   * @private\r\n   * Click on the Settings Button\r\n   * @param {string} tune — tune name from this.settings\r\n   */},{key:\"_toggleTune\",value:function _toggleTune(tune){console.log('Image tune clicked',tune);this.data[tune]=!this.data[tune];this._acceptTuneView();}/**\r\n   * Add specified class corresponds with activated tunes\r\n   * @private\r\n   */},{key:\"_acceptTuneView\",value:function _acceptTuneView(){var _this3=this;this.settings.forEach(function(tune){_this3.wrapper.classList.toggle(tune.name,!!_this3.data[tune.name]);if(tune.name==='stretched'){_this3.api.blocks.stretchBlock(_this3.api.blocks.getCurrentBlockIndex(),!!_this3.data.stretched);}});}}],[{key:\"toolbox\",get:function get(){return{title:'Image',icon:'<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>'};}}]);return SimpleImage;}();export default DashboardAddPostTest;","map":{"version":3,"sources":["C:/react/lac/src/views/dashboard/DashboardAddPostTest.js"],"names":["React","useEffect","CCard","CCardBody","CCardFooter","CCardHeader","CCol","CRow","CIcon","FormikPostEnglish","EditorJS","DashboardAddPostTest","editor","autofocus","holder","tools","image","class","SimpleImage","inlineToolbar","data","time","blocks","type","url","version","saveEditor","output","document","getElementById","save","then","savedData","console","log","JSON","stringify","api","caption","withBorder","undefined","withBackground","stretched","settings","name","icon","wrapper","createElement","forEach","tune","button","classList","add","toggle","styles","settingsButtonActive","innerHTML","appendChild","addEventListener","_toggleTune","setAttribute","_createImage","input","placeholder","value","event","clipboardData","getData","trim","captionText","src","contentEditable","_acceptTuneView","blockContent","querySelector","Object","assign","stretchBlock","getCurrentBlockIndex","title"],"mappings":"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","sourcesContent":["import React, {useEffect} from 'react'\r\nimport {\r\n\r\n  CCard,\r\n  CCardBody,\r\n  CCardFooter,\r\n  CCardHeader,\r\n  CCol,\r\n  CRow\r\n\r\n} from '@coreui/react'\r\nimport CIcon from '@coreui/icons-react'\r\nimport FormikPostEnglish from \"../../formik-wrappers/FormikPostEnglish\"\r\nimport EditorJS from '@editorjs/editorjs';\r\n\r\n\r\nconst DashboardAddPostTest = () => {\r\n\r\n\r\n    const editor = new EditorJS({\r\n        autofocus: true,\r\n        holder:'editorjs',\r\n        tools: {\r\n            image: {class:SimpleImage,inlineToolbar: true}\r\n            \r\n          },\r\n          data: {\r\n            time: 1552744582955,\r\n            blocks: [\r\n              {\r\n                type: \"image\",\r\n                data: {\r\n                  url: \"https://cdn.pixabay.com/photo/2017/09/01/21/53/blue-2705642_1280.jpg\"\r\n                }\r\n              }\r\n            ],\r\n            version: \"2.11.10\"\r\n          }\r\n      });\r\n\r\n\r\n      const saveEditor= ()=>{\r\n        const output = document.getElementById('output');\r\n        editor.save().then( savedData => {\r\n            console.log(JSON.stringify(savedData, null, 4));\r\n          })\r\n      }\r\n\r\n\r\n     return (\r\n    <>\r\n      <CRow>\r\n        <CCol md=\"9\">\r\n          <CCard>\r\n            <CCardHeader>\r\n              English\r\n            </CCardHeader>\r\n            <CCardBody>\r\n            <div id=\"editorjs\"></div>\r\n            <button onClick={()=>saveEditor()}>Save</button>\r\n\r\n\r\n        </CCardBody>\r\n          </CCard>\r\n        </CCol>\r\n      </CRow>\r\n\r\n\r\n\r\n\r\n    </>\r\n  )\r\n}\r\n\r\n\r\nclass SimpleImage {\r\n\r\n\r\n    constructor({data,api}){\r\n        this.data = data;\r\n        this.api=api;\r\n        this.data = {\r\n            url: data.url || '',\r\n            caption: data.caption || '',\r\n            withBorder: data.withBorder !== undefined ? data.withBorder : false,\r\n            withBackground: data.withBackground !== undefined ? data.withBackground : false,\r\n            stretched: data.stretched !== undefined ? data.stretched : false,\r\n          };\r\n\r\n          this.settings = [\r\n            {\r\n              name: 'withBorder',\r\n              icon: `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M15.8 10.592v2.043h2.35v2.138H15.8v2.232h-2.25v-2.232h-2.4v-2.138h2.4v-2.28h2.25v.237h1.15-1.15zM1.9 8.455v-3.42c0-1.154.985-2.09 2.2-2.09h4.2v2.137H4.15v3.373H1.9zm0 2.137h2.25v3.325H8.3v2.138H4.1c-1.215 0-2.2-.936-2.2-2.09v-3.373zm15.05-2.137H14.7V5.082h-4.15V2.945h4.2c1.215 0 2.2.936 2.2 2.09v3.42z\"/></svg>`\r\n            },\r\n            {\r\n              name: 'stretched',\r\n              icon: `<svg width=\"17\" height=\"10\" viewBox=\"0 0 17 10\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M13.568 5.925H4.056l1.703 1.703a1.125 1.125 0 0 1-1.59 1.591L.962 6.014A1.069 1.069 0 0 1 .588 4.26L4.38.469a1.069 1.069 0 0 1 1.512 1.511L4.084 3.787h9.606l-1.85-1.85a1.069 1.069 0 1 1 1.512-1.51l3.792 3.791a1.069 1.069 0 0 1-.475 1.788L13.514 9.16a1.125 1.125 0 0 1-1.59-1.591l1.644-1.644z\"/></svg>`\r\n            },\r\n            {\r\n              name: 'withBackground',\r\n              icon: `<svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.043 8.265l3.183-3.183h-2.924L4.75 10.636v2.923l4.15-4.15v2.351l-2.158 2.159H8.9v2.137H4.7c-1.215 0-2.2-.936-2.2-2.09v-8.93c0-1.154.985-2.09 2.2-2.09h10.663l.033-.033.034.034c1.178.04 2.12.96 2.12 2.089v3.23H15.3V5.359l-2.906 2.906h-2.35zM7.951 5.082H4.75v3.201l3.201-3.2zm5.099 7.078v3.04h4.15v-3.04h-4.15zm-1.1-2.137h6.35c.635 0 1.15.489 1.15 1.092v5.13c0 .603-.515 1.092-1.15 1.092h-6.35c-.635 0-1.15-.489-1.15-1.092v-5.13c0-.603.515-1.092 1.15-1.092z\"/></svg>`\r\n            }\r\n          ];\r\n        this.wrapper = undefined;\r\n      }\r\n\r\n\r\n      renderSettings(){\r\n        \r\n      const wrapper = document.createElement('div');\r\n\r\n    this.settings.forEach( tune => {\r\n      let button = document.createElement('div');\r\n\r\n      button.classList.add('cdx-settings-button');\r\n      button.classList.toggle(this.api.styles.settingsButtonActive, this.data[tune.name]);\r\n      button.innerHTML = tune.icon;\r\n      wrapper.appendChild(button);\r\n\r\n      button.addEventListener('click', () => {\r\n        this._toggleTune(tune.name);\r\n        button.classList.toggle(this.api.styles.settingsButtonActive);\r\n      });\r\n    });\r\n\r\n    return wrapper;\r\n      }\r\n    \r\n\r\n\r\n    static get toolbox() {\r\n      return {\r\n        title: 'Image',\r\n        icon: '<svg width=\"17\" height=\"15\" viewBox=\"0 0 336 276\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M291 150V79c0-19-15-34-34-34H79c-19 0-34 15-34 34v42l67-44 81 72 56-29 42 30zm0 52l-43-30-56 30-81-67-66 39v23c0 19 15 34 34 34h178c17 0 31-13 34-29zM79 0h178c44 0 79 35 79 79v118c0 44-35 79-79 79H79c-44 0-79-35-79-79V79C0 35 35 0 79 0z\"/></svg>'\r\n      };\r\n    }\r\n  \r\n    render(){\r\n        this.wrapper = document.createElement('div');\r\n        this.wrapper.setAttribute(\"style\",\"padding: 20px 0;\")\r\n\r\n\r\n        if (this.data && this.data.url){\r\n            this._createImage(this.data.url, this.data.caption);\r\n            return this.wrapper;\r\n          }\r\n\r\n        const input = document.createElement('input');\r\n        input.setAttribute(\"style\",`width: 100%;\r\n        padding: 10px;\r\n        border: 1px solid #e4e4e4;\r\n        border-radius: 3px;\r\n        outline: none;\r\n        font-size: 14px;`)\r\n    \r\n        this.wrapper.classList.add('simple-image');\r\n        this.wrapper.appendChild(input);\r\n    \r\n        input.placeholder = 'Paste an image URL...';\r\n        input.value = this.data && this.data.url ? this.data.url : '';\r\n\r\n        input.addEventListener('paste', (event) => {\r\n            this._createImage(event.clipboardData.getData('text'));\r\n          });\r\n    \r\n        return this.wrapper;\r\n    }\r\n  \r\n \r\n\r\n    validate(savedData){\r\n        if (!savedData.url.trim()){\r\n          return false;\r\n        }\r\n    \r\n        return true;\r\n      }\r\n\r\n      _createImage(url, captionText){\r\n        const image = document.createElement('img');\r\n        image.setAttribute(\"style\",\"width: 100%;\")\r\n        const caption = document.createElement('div');\r\n    \r\n        image.src = url;\r\n        caption.contentEditable = true;\r\n        //caption.placeholder = 'Caption...';\r\n        caption.innerHTML = captionText || '';\r\n    \r\n        this.wrapper.innerHTML = '';\r\n        this.wrapper.appendChild(image);\r\n        this.wrapper.appendChild(caption);\r\n        this._acceptTuneView();\r\n      }\r\n\r\n\r\n      save(blockContent){\r\n        const image = blockContent.querySelector('img');\r\n        const caption = blockContent.querySelector('[contenteditable]');\r\n\r\n        console.log(\"block data\",image)\r\n    \r\n        return Object.assign(this.data, {\r\n            url: image.src,\r\n            caption: caption.innerHTML\r\n         })\r\n    } \r\n\r\n    /**\r\n   * @private\r\n   * Click on the Settings Button\r\n   * @param {string} tune — tune name from this.settings\r\n   */\r\n  _toggleTune(tune) {\r\n    console.log('Image tune clicked', tune);\r\n    this.data[tune] = !this.data[tune];\r\n    this._acceptTuneView();\r\n   }\r\n\r\n    /**\r\n   * Add specified class corresponds with activated tunes\r\n   * @private\r\n   */\r\n  _acceptTuneView() {\r\n    this.settings.forEach( tune => {\r\n      this.wrapper.classList.toggle(tune.name, !!this.data[tune.name]);\r\n      if (tune.name === 'stretched') {\r\n        this.api.blocks.stretchBlock(this.api.blocks.getCurrentBlockIndex(), !!this.data.stretched);\r\n      }\r\n    });\r\n  }\r\n\r\n  }\r\n\r\nexport default DashboardAddPostTest\r\n"]},"metadata":{},"sourceType":"module"}